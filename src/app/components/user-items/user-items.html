<div class="page-header">

  <div class="page-header-left">

    <div class="page-title">Mes Items</div>

    <div *ngIf="item$ | async as item" class="item-info">

      <span class="badge game">{{ item.game.name }}</span>
      <span class="badge item-type">{{ item.itemType.name }}</span>

      <span class="badge expansion" *ngIf="item.expansion.name !== 'Autre'">
        {{ item.expansion.name }}
      </span>

      <span class="badge complement" *ngIf="item.complement">
        {{ item.complement }}
      </span>

      <span class="badge locale">{{ item.locale.name }}</span>

    </div>

  </div>

  <div class="page-header-right">
    <app-back-button/>
  </div>

</div>

<div class="user-item-buttons">
  <button mat-raised-button class="user-item-button" (click)="openCreateDialog()">
    <mat-icon>add</mat-icon>
    Ajouter un item
  </button>

  <span class="actions-spacer"></span>

  <button mat-raised-button
  class="user-item-button"
          [routerLink]="['/items', item.id, 'price-histories']">
    <mat-icon>show_chart</mat-icon>
    Historique CM
  </button>
  
  <a mat-raised-button 
  class="user-item-button"
  href="{{item.url}}" target="_blank">
    <mat-icon>open_in_new</mat-icon>
    Lien CM
  </a>
</div>



<div *ngIf="userItems$ | async as userItems" class="cards-grid">
  <div *ngFor="let userItem of userItems">
    <app-user-item-card 
      [userItem]="userItem" 
      (edit)="onEdit($event.userItemId, $event.editUserItem)"
      (sell)="onSell($event.userItemId, $event.sellUserItem)"
      (open)="onOpen($event.userItemId, $event.openUserItem)"
      (duplicate)="onDuplicate($event)"
      (delete)="onDelete($event)"/>
  </div>
</div>
