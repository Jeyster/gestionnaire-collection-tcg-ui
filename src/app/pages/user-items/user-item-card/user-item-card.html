<mat-card
  class="example-card"
  appearance="outlined"
  [ngClass]="{
    sold: userItem.sellingPrice,
    opened: !userItem.sellingPrice && userItem.sellingOrOpeningDate
  }"
>

  <mat-card-content>

    <!-- ACHAT -->
    <div class="event">
      <div class="event-line purchase">
        <mat-icon>shopping_cart</mat-icon>
  
        <span class="event-title">Acheté</span>
  
        <span class="event-price">
          {{ userItem.purchasePrice }}€
        </span>
  
        <span class="event-date">
          le {{ userItem.purchaseDate | date:'dd/MM/yyyy' }}
        </span>
      </div>
  
      <div
        class="event-comment"
        *ngIf="userItem.purchaseComment">
        "{{ userItem.purchaseComment }}"
      </div>
    </div>

    <!-- VENTE -->
    @if (userItem.sellingPrice) {
      <div class="event">
        <div class="event-line sell">
          <mat-icon>sell</mat-icon>
  
          <span class="event-title">Vendu</span>
  
          <span class="event-price">
            {{ userItem.sellingPrice }}€
          </span>
  
          <span class="event-date">
            le {{ userItem.sellingOrOpeningDate | date:'dd/MM/yyyy' }}
          </span>
        </div>
  
        <div
          class="event-comment"
          *ngIf="userItem.sellingOrOpeningComment">
          "{{ userItem.sellingOrOpeningComment }}"
        </div>
      </div>
    }

    <!-- OUVERTURE -->
    @else if (userItem.sellingOrOpeningDate) {
      <div class="event">
        <div class="event-line open">
          <mat-icon>lock_open</mat-icon>
  
          <span class="event-title">Ouvert</span>
  
          <span class="event-date">
            le {{ userItem.sellingOrOpeningDate | date:'dd/MM/yyyy' }}
          </span>
        </div>
  
        <div
          class="event-comment"
          *ngIf="userItem.sellingOrOpeningComment">
          "{{ userItem.sellingOrOpeningComment }}"
        </div>
      </div>
    }

  </mat-card-content>

  <mat-card-actions class="actions">

    <button
      mat-button
      *ngIf="!userItem.sellingOrOpeningDate"
      (click)="onSell()"
      matTooltip="Vendre"
      class="icon-action sell">
      <mat-icon>sell</mat-icon>
    </button>

    <button
      mat-button
      *ngIf="!userItem.sellingOrOpeningDate"
      (click)="onOpen()"
      matTooltip="Ouvrir"
      class="icon-action open">
      <mat-icon>lock_open</mat-icon>
    </button>
    
    <span class="actions-spacer"></span>

    <button
      mat-button
      *ngIf="!userItem.sellingOrOpeningDate"
      (click)="onEdit()"
      matTooltip="Modifier"
      class="icon-action">
      <mat-icon>edit</mat-icon>
    </button>

    <button
      mat-button
      *ngIf="!userItem.sellingOrOpeningDate"
      (click)="onDuplicate()"
      matTooltip="Dupliquer"
      class="icon-action">
      <mat-icon>content_copy</mat-icon>
    </button>
    
    <button
      mat-button
      (click)="onDelete()"
      matTooltip="Supprimer"
      class="icon-action">
      <mat-icon>delete</mat-icon>
    </button>

  </mat-card-actions>

</mat-card>

